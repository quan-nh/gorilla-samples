;; gorilla-repl.fileformat = 1

;; **
;;; # Link between health spending and life expectancy
;;; 
;;; Data from [this](http://www.who.int/health-accounts/ghed/en/) and [this](http://data.worldbank.org/indicator/SP.DYN.LE00.IN).
;; **

;; @@
(ns fluffy-cliff
  (:require [gorilla-samples.util :refer :all]
    		[gg4clj.core :as gg4clj]))
;; @@
;; =>
;;; {"type":"html","content":"<span class='clj-nil'>nil</span>","value":"nil"}
;; <=

;; @@
(def asean #{"Indonesia" "Myanmar" "Thailand" "Brunei Darussalam" "Cambodia" "Lao PDR" "Malaysia" "Philippines" "Singapore" "Viet Nam"})

(defn- parse-csv [csv-data]
  (->> (for [[idx year] (map-indexed vector (first csv-data))
             [country :as data] (rest csv-data)]
         (when (and (<= 1995 (->int year) 2014) (contains? asean country))
           [country (->int year) (nth data idx)]))
       (remove nil?)))

(def he (parse-csv (read-csv "health/NHA indicators.csv")))
(def le (parse-csv (read-csv "health/API_SP.DYN.LE00.IN_DS2_en_csv_v2.csv")))

(def data (->> (for [[he-country he-year he-data] he
                     [le-country le-year le-data] le]
                 (when (and (= he-country le-country) (= he-year le-year))
                   [he-country he-year (read-string he-data) (read-string le-data)]))
               (remove nil?)))
;; @@
;; =>
;;; {"type":"html","content":"<span class='clj-var'>#&#x27;fluffy-cliff/data</span>","value":"#'fluffy-cliff/data"}
;; <=

;; @@
(defn- ->df [d]
  (gg4clj/data-frame {:country (map first d)
                      :year (map second d)
                      :he (map #(nth % 2) d)
                      :le (map last d)}))

(gg4clj/view [[:<- :g (->df (remove #(contains? #{"Brunei Darussalam" "Singapore"} (first %)) data))]
              (gg4clj/r+
                [:ggplot :g [:aes {:x :he, :y :le, :color :country}]]
                [:geom_line {:size 0.5}]
                [:theme {:axis.ticks [:element_blank]
                         :legend.position "top"
                         :text [:element_text {:size 9}]}]
                [:labs {:title "Life expectancy vs. health expenditure, 1995 to 2014"
                        :subtitle "ASEAN without Brunei & Singapore"
                        :x "Health expenditure (million US$)"
                        :y "Life expectancy"}])])

(gg4clj/view [[:<- :g (->df (remove #(contains? #{"Singapore"} (first %)) data))]
              (gg4clj/r+
                [:ggplot :g [:aes {:x :he, :y :le, :color :country}]]
                [:geom_line {:size 0.5}]
                [:theme {:axis.ticks [:element_blank]
                         :legend.position "top"
                         :text [:element_text {:size 9}]}]
                [:labs {:title "Life expectancy vs. health expenditure, 1995 to 2014"
                        :subtitle "ASEAN without Singapore"
                        :x "Health expenditure (million US$)"
                        :y "Life expectancy"}])])

(gg4clj/view [[:<- :g (->df data)]
              (gg4clj/r+
                [:ggplot :g [:aes {:x :he, :y :le, :color :country}]]
                [:geom_line {:size 0.5}]
                [:theme {:axis.ticks [:element_blank]
                         :legend.position "top"
                         :text [:element_text {:size 9}]}]
                [:labs {:title "Life expectancy vs. health expenditure, 1995 to 2014"
                        :subtitle "ASEAN"
                        :x "Health expenditure (million US$)"
                        :y "Life expectancy"}])])
;; @@
;; =>
;;; {"type":"html","content":"<?xml version='1.0' encoding='UTF-8' ?>\n<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 468.00 289.25'>\n<defs>\n  <style type='text/css'><![CDATA[\n    line, polyline, path, rect, circle {\n      fill: none;\n      stroke: #000000;\n      stroke-linecap: round;\n      stroke-linejoin: round;\n      stroke-miterlimit: 10.00;\n    }\n  ]]></style>\n</defs>\n<rect width='100%' height='100%' style='stroke: none; fill: #FFFFFF;'/>\n<rect x='0.00' y='0.00' width='468.00' height='289.25' style='stroke-width: 1.07; stroke: #FFFFFF; fill: #FFFFFF;' />\n<defs>\n  <clipPath id='cpMzIuMzQ4NHw0NjIuNTIxfDI1OS44NzF8ODkuODk1Mw=='>\n    <rect x='32.35' y='89.90' width='430.17' height='169.98' />\n  </clipPath>\n</defs>\n<rect x='32.35' y='89.90' width='430.17' height='169.98' style='stroke-width: 1.07; stroke: none; fill: #EBEBEB;' clip-path='url(#cpMzIuMzQ4NHw0NjIuNTIxfDI1OS44NzF8ODkuODk1Mw==)' />\n<polyline points='32.35,238.72 462.52,238.72 ' style='stroke-width: 0.53; stroke: #FFFFFF; stroke-linecap: butt;' clip-path='url(#cpMzIuMzQ4NHw0NjIuNTIxfDI1OS44NzF8ODkuODk1Mw==)' />\n<polyline points='32.35,210.49 462.52,210.49 ' style='stroke-width: 0.53; stroke: #FFFFFF; stroke-linecap: butt;' clip-path='url(#cpMzIuMzQ4NHw0NjIuNTIxfDI1OS44NzF8ODkuODk1Mw==)' />\n<polyline points='32.35,182.27 462.52,182.27 ' style='stroke-width: 0.53; stroke: #FFFFFF; stroke-linecap: butt;' clip-path='url(#cpMzIuMzQ4NHw0NjIuNTIxfDI1OS44NzF8ODkuODk1Mw==)' />\n<polyline points='32.35,154.04 462.52,154.04 ' style='stroke-width: 0.53; stroke: #FFFFFF; stroke-linecap: butt;' clip-path='url(#cpMzIuMzQ4NHw0NjIuNTIxfDI1OS44NzF8ODkuODk1Mw==)' />\n<polyline points='32.35,125.82 462.52,125.82 ' style='stroke-width: 0.53; stroke: #FFFFFF; stroke-linecap: butt;' clip-path='url(#cpMzIuMzQ4NHw0NjIuNTIxfDI1OS44NzF8ODkuODk1Mw==)' />\n<polyline points='32.35,97.59 462.52,97.59 ' style='stroke-width: 0.53; stroke: #FFFFFF; stroke-linecap: butt;' clip-path='url(#cpMzIuMzQ4NHw0NjIuNTIxfDI1OS44NzF8ODkuODk1Mw==)' />\n<polyline points='122.72,259.87 122.72,89.90 ' style='stroke-width: 0.53; stroke: #FFFFFF; stroke-linecap: butt;' clip-path='url(#cpMzIuMzQ4NHw0NjIuNTIxfDI1OS44NzF8ODkuODk1Mw==)' />\n<polyline points='264.93,259.87 264.93,89.90 ' style='stroke-width: 0.53; stroke: #FFFFFF; stroke-linecap: butt;' clip-path='url(#cpMzIuMzQ4NHw0NjIuNTIxfDI1OS44NzF8ODkuODk1Mw==)' />\n<polyline points='407.13,259.87 407.13,89.90 ' style='stroke-width: 0.53; stroke: #FFFFFF; stroke-linecap: butt;' clip-path='url(#cpMzIuMzQ4NHw0NjIuNTIxfDI1OS44NzF8ODkuODk1Mw==)' />\n<polyline points='32.35,252.83 462.52,252.83 ' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt;' clip-path='url(#cpMzIuMzQ4NHw0NjIuNTIxfDI1OS44NzF8ODkuODk1Mw==)' />\n<polyline points='32.35,224.61 462.52,224.61 ' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt;' clip-path='url(#cpMzIuMzQ4NHw0NjIuNTIxfDI1OS44NzF8ODkuODk1Mw==)' />\n<polyline points='32.35,196.38 462.52,196.38 ' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt;' clip-path='url(#cpMzIuMzQ4NHw0NjIuNTIxfDI1OS44NzF8ODkuODk1Mw==)' />\n<polyline points='32.35,168.16 462.52,168.16 ' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt;' clip-path='url(#cpMzIuMzQ4NHw0NjIuNTIxfDI1OS44NzF8ODkuODk1Mw==)' />\n<polyline points='32.35,139.93 462.52,139.93 ' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt;' clip-path='url(#cpMzIuMzQ4NHw0NjIuNTIxfDI1OS44NzF8ODkuODk1Mw==)' />\n<polyline points='32.35,111.71 462.52,111.71 ' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt;' clip-path='url(#cpMzIuMzQ4NHw0NjIuNTIxfDI1OS44NzF8ODkuODk1Mw==)' />\n<polyline points='51.62,259.87 51.62,89.90 ' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt;' clip-path='url(#cpMzIuMzQ4NHw0NjIuNTIxfDI1OS44NzF8ODkuODk1Mw==)' />\n<polyline points='193.82,259.87 193.82,89.90 ' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt;' clip-path='url(#cpMzIuMzQ4NHw0NjIuNTIxfDI1OS44NzF8ODkuODk1Mw==)' />\n<polyline points='336.03,259.87 336.03,89.90 ' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt;' clip-path='url(#cpMzIuMzQ4NHw0NjIuNTIxfDI1OS44NzF8ODkuODk1Mw==)' />\n<polyline points='119.31,144.32 123.86,137.20 125.14,136.16 128.69,139.45 130.40,138.30 132.53,140.63 134.10,135.15 140.78,141.84 141.21,143.07 146.18,134.15 149.88,133.08 151.02,131.87 159.41,130.47 163.96,127.13 171.50,128.89 173.91,125.26 185.01,123.38 187.85,118.43 188.42,121.57 197.09,119.91 ' style='stroke-width: 1.07; stroke: #F8766D; stroke-linecap: butt;' clip-path='url(#cpMzIuMzQ4NHw0NjIuNTIxfDI1OS44NzF8ODkuODk1Mw==)' />\n<polyline points='53.89,242.72 53.89,238.56 54.03,252.15 54.18,233.92 54.18,228.86 54.46,246.37 54.46,223.55 55.03,249.52 55.03,218.19 55.03,203.18 55.03,198.91 55.31,212.90 55.60,207.85 57.45,195.06 58.30,191.61 58.30,188.56 58.73,185.81 60.01,183.24 60.15,180.73 60.29,178.25 ' style='stroke-width: 1.07; stroke: #D89000; stroke-linecap: butt;' clip-path='url(#cpMzIuMzQ4NHw0NjIuNTIxfDI1OS44NzF8ODkuODk1Mw==)' />\n<polyline points='53.04,191.70 53.75,190.46 53.75,189.34 54.03,188.31 54.46,196.37 54.46,193.10 54.46,187.30 54.89,194.66 55.46,186.28 55.46,185.23 56.59,184.14 58.16,183.02 59.87,181.89 60.29,180.77 60.72,179.69 63.85,178.62 65.70,177.56 65.70,174.43 66.69,175.47 66.83,176.51 ' style='stroke-width: 1.07; stroke: #A3A500; stroke-linecap: butt;' clip-path='url(#cpMzIuMzQ4NHw0NjIuNTIxfDI1OS44NzF8ODkuODk1Mw==)' />\n<polyline points='53.04,234.11 53.04,230.93 53.47,227.72 53.47,224.48 53.61,246.52 53.61,237.27 53.75,243.48 54.03,240.39 54.18,221.24 54.32,218.01 54.46,214.82 55.03,205.70 55.17,211.69 55.60,197.52 55.74,208.65 55.88,200.14 56.03,194.98 56.31,192.50 56.31,190.07 56.45,202.87 ' style='stroke-width: 1.07; stroke: #39B600; stroke-linecap: butt;' clip-path='url(#cpMzIuMzQ4NHw0NjIuNTIxfDI1OS44NzF8ODkuODk1Mw==)' />\n<polyline points='64.98,154.15 66.55,153.03 68.97,151.97 69.39,155.29 69.68,157.64 70.39,150.98 71.38,156.46 71.67,150.07 76.50,149.25 77.64,147.83 77.78,148.51 83.76,147.21 88.73,146.60 93.00,145.36 93.57,145.99 101.53,144.69 107.65,143.96 111.63,143.19 112.34,142.37 116.46,141.52 ' style='stroke-width: 1.07; stroke: #00BF7D; stroke-linecap: butt;' clip-path='url(#cpMzIuMzQ4NHw0NjIuNTIxfDI1OS44NzF8ODkuODk1Mw==)' />\n<polyline points='51.90,222.28 51.90,220.40 51.90,218.51 51.90,216.62 51.90,214.73 51.90,211.06 52.04,212.88 52.04,209.32 52.19,207.66 52.33,206.07 52.33,204.54 52.33,203.02 52.61,201.50 53.04,199.95 53.47,198.39 53.75,196.85 54.18,192.69 54.32,195.36 54.46,191.54 55.03,193.97 ' style='stroke-width: 1.07; stroke: #00BFC4; stroke-linecap: butt;' clip-path='url(#cpMzIuMzQ4NHw0NjIuNTIxfDI1OS44NzF8ODkuODk1Mw==)' />\n<polyline points='55.60,185.53 55.74,186.21 56.03,188.24 56.31,186.89 56.31,184.87 56.59,187.56 56.59,184.22 56.88,190.34 57.45,189.62 57.45,188.92 58.30,183.59 59.44,182.98 61.00,182.39 62.71,181.81 63.14,181.25 64.98,180.67 66.12,180.06 68.11,179.41 69.68,178.70 70.82,177.95 ' style='stroke-width: 1.07; stroke: #00B0F6; stroke-linecap: butt;' clip-path='url(#cpMzIuMzQ4NHw0NjIuNTIxfDI1OS44NzF8ODkuODk1Mw==)' />\n<polyline points='126.42,121.58 141.49,119.88 142.06,125.53 145.76,123.27 152.87,126.95 156.99,132.62 160.55,129.22 161.40,130.93 169.22,117.13 169.36,114.58 202.50,111.76 218.14,110.91 238.62,109.21 272.18,107.25 287.11,104.70 313.56,103.00 348.26,101.86 380.11,100.44 411.68,99.03 442.97,97.62 ' style='stroke-width: 1.07; stroke: #9590FF; stroke-linecap: butt;' clip-path='url(#cpMzIuMzQ4NHw0NjIuNTIxfDI1OS44NzF8ODkuODk1Mw==)' />\n<polyline points='60.15,163.36 61.00,164.58 61.29,166.11 61.43,165.47 62.00,161.84 62.85,160.06 63.99,158.07 65.13,155.98 65.84,167.02 65.84,166.56 67.12,153.90 68.26,166.87 70.53,151.93 74.51,150.16 74.80,148.62 77.50,147.30 81.91,146.18 83.90,145.17 84.04,143.19 84.32,144.18 ' style='stroke-width: 1.07; stroke: #E76BF3; stroke-linecap: butt;' clip-path='url(#cpMzIuMzQ4NHw0NjIuNTIxfDI1OS44NzF8ODkuODk1Mw==)' />\n<polyline points='53.61,157.70 53.89,156.12 54.03,154.59 54.03,153.12 54.18,151.71 54.46,150.38 54.75,147.97 54.89,149.14 55.17,146.86 55.88,145.81 56.88,144.80 57.73,143.81 59.44,142.85 60.58,141.89 62.00,140.93 63.42,139.99 64.98,139.05 68.68,138.13 70.67,137.24 71.81,136.38 ' style='stroke-width: 1.07; stroke: #FF62BC; stroke-linecap: butt;' clip-path='url(#cpMzIuMzQ4NHw0NjIuNTIxfDI1OS44NzF8ODkuODk1Mw==)' />\n<defs>\n  <clipPath id='cpMHw0Njh8Mjg5LjI0Nnww'>\n    <rect x='0.00' y='0.00' width='468.00' height='289.25' />\n  </clipPath>\n</defs>\n<g clip-path='url(#cpMHw0Njh8Mjg5LjI0Nnww)'><text x='19.63' y='255.24' style='font-size: 7.20px; fill: #4D4D4D; font-family: Liberation Sans;' textLength='7.79px' lengthAdjust='spacingAndGlyphs'>55</text></g>\n<g clip-path='url(#cpMHw0Njh8Mjg5LjI0Nnww)'><text x='19.63' y='227.01' style='font-size: 7.20px; fill: #4D4D4D; font-family: Liberation Sans;' textLength='7.79px' lengthAdjust='spacingAndGlyphs'>60</text></g>\n<g clip-path='url(#cpMHw0Njh8Mjg5LjI0Nnww)'><text x='19.63' y='198.79' style='font-size: 7.20px; fill: #4D4D4D; font-family: Liberation Sans;' textLength='7.79px' lengthAdjust='spacingAndGlyphs'>65</text></g>\n<g clip-path='url(#cpMHw0Njh8Mjg5LjI0Nnww)'><text x='19.63' y='170.56' style='font-size: 7.20px; fill: #4D4D4D; font-family: Liberation Sans;' textLength='7.79px' lengthAdjust='spacingAndGlyphs'>70</text></g>\n<g clip-path='url(#cpMHw0Njh8Mjg5LjI0Nnww)'><text x='19.63' y='142.34' style='font-size: 7.20px; fill: #4D4D4D; font-family: Liberation Sans;' textLength='7.79px' lengthAdjust='spacingAndGlyphs'>75</text></g>\n<g clip-path='url(#cpMHw0Njh8Mjg5LjI0Nnww)'><text x='19.63' y='114.11' style='font-size: 7.20px; fill: #4D4D4D; font-family: Liberation Sans;' textLength='7.79px' lengthAdjust='spacingAndGlyphs'>80</text></g>\n<g clip-path='url(#cpMHw0Njh8Mjg5LjI0Nnww)'><text x='49.67' y='269.62' style='font-size: 7.20px; fill: #4D4D4D; font-family: Liberation Sans;' textLength='3.89px' lengthAdjust='spacingAndGlyphs'>0</text></g>\n<g clip-path='url(#cpMHw0Njh8Mjg5LjI0Nnww)'><text x='186.04' y='269.62' style='font-size: 7.20px; fill: #4D4D4D; font-family: Liberation Sans;' textLength='15.57px' lengthAdjust='spacingAndGlyphs'>1000</text></g>\n<g clip-path='url(#cpMHw0Njh8Mjg5LjI0Nnww)'><text x='328.24' y='269.62' style='font-size: 7.20px; fill: #4D4D4D; font-family: Liberation Sans;' textLength='15.57px' lengthAdjust='spacingAndGlyphs'>2000</text></g>\n<g clip-path='url(#cpMHw0Njh8Mjg5LjI0Nnww)'><text x='182.65' y='281.28' style='font-size: 9.00px; font-family: Liberation Sans;' textLength='129.56px' lengthAdjust='spacingAndGlyphs'>Health expenditure (million US$)</text></g>\n<g clip-path='url(#cpMHw0Njh8Mjg5LjI0Nnww)'><text transform='translate(11.67,206.15) rotate(-90)' style='font-size: 9.00px; font-family: Liberation Sans;' textLength='62.54px' lengthAdjust='spacingAndGlyphs'>Life expectancy</text></g>\n<rect x='81.08' y='32.66' width='332.71' height='45.90' style='stroke-width: 1.07; stroke: none; fill: #FFFFFF;' clip-path='url(#cpMHw0Njh8Mjg5LjI0Nnww)' />\n<g clip-path='url(#cpMHw0Njh8Mjg5LjI0Nnww)'><text x='86.75' y='58.70' style='font-size: 9.00px; font-family: Liberation Sans;' textLength='29.51px' lengthAdjust='spacingAndGlyphs'>country</text></g>\n<rect x='120.58' y='38.33' width='17.28' height='17.28' style='stroke-width: 1.07; stroke: #FFFFFF; fill: #F2F2F2;' clip-path='url(#cpMHw0Njh8Mjg5LjI0Nnww)' />\n<line x1='122.31' y1='46.97' x2='136.14' y2='46.97' style='stroke-width: 1.07; stroke: #F8766D; stroke-linecap: butt;' clip-path='url(#cpMHw0Njh8Mjg5LjI0Nnww)' />\n<rect x='120.58' y='55.61' width='17.28' height='17.28' style='stroke-width: 1.07; stroke: #FFFFFF; fill: #F2F2F2;' clip-path='url(#cpMHw0Njh8Mjg5LjI0Nnww)' />\n<line x1='122.31' y1='64.25' x2='136.14' y2='64.25' style='stroke-width: 1.07; stroke: #D89000; stroke-linecap: butt;' clip-path='url(#cpMHw0Njh8Mjg5LjI0Nnww)' />\n<rect x='201.71' y='38.33' width='17.28' height='17.28' style='stroke-width: 1.07; stroke: #FFFFFF; fill: #F2F2F2;' clip-path='url(#cpMHw0Njh8Mjg5LjI0Nnww)' />\n<line x1='203.44' y1='46.97' x2='217.26' y2='46.97' style='stroke-width: 1.07; stroke: #A3A500; stroke-linecap: butt;' clip-path='url(#cpMHw0Njh8Mjg5LjI0Nnww)' />\n<rect x='201.71' y='55.61' width='17.28' height='17.28' style='stroke-width: 1.07; stroke: #FFFFFF; fill: #F2F2F2;' clip-path='url(#cpMHw0Njh8Mjg5LjI0Nnww)' />\n<line x1='203.44' y1='64.25' x2='217.26' y2='64.25' style='stroke-width: 1.07; stroke: #39B600; stroke-linecap: butt;' clip-path='url(#cpMHw0Njh8Mjg5LjI0Nnww)' />\n<rect x='253.67' y='38.33' width='17.28' height='17.28' style='stroke-width: 1.07; stroke: #FFFFFF; fill: #F2F2F2;' clip-path='url(#cpMHw0Njh8Mjg5LjI0Nnww)' />\n<line x1='255.39' y1='46.97' x2='269.22' y2='46.97' style='stroke-width: 1.07; stroke: #00BF7D; stroke-linecap: butt;' clip-path='url(#cpMHw0Njh8Mjg5LjI0Nnww)' />\n<rect x='253.67' y='55.61' width='17.28' height='17.28' style='stroke-width: 1.07; stroke: #FFFFFF; fill: #F2F2F2;' clip-path='url(#cpMHw0Njh8Mjg5LjI0Nnww)' />\n<line x1='255.39' y1='64.25' x2='269.22' y2='64.25' style='stroke-width: 1.07; stroke: #00BFC4; stroke-linecap: butt;' clip-path='url(#cpMHw0Njh8Mjg5LjI0Nnww)' />\n<rect x='304.44' y='38.33' width='17.28' height='17.28' style='stroke-width: 1.07; stroke: #FFFFFF; fill: #F2F2F2;' clip-path='url(#cpMHw0Njh8Mjg5LjI0Nnww)' />\n<line x1='306.17' y1='46.97' x2='319.99' y2='46.97' style='stroke-width: 1.07; stroke: #00B0F6; stroke-linecap: butt;' clip-path='url(#cpMHw0Njh8Mjg5LjI0Nnww)' />\n<rect x='304.44' y='55.61' width='17.28' height='17.28' style='stroke-width: 1.07; stroke: #FFFFFF; fill: #F2F2F2;' clip-path='url(#cpMHw0Njh8Mjg5LjI0Nnww)' />\n<line x1='306.17' y1='64.25' x2='319.99' y2='64.25' style='stroke-width: 1.07; stroke: #9590FF; stroke-linecap: butt;' clip-path='url(#cpMHw0Njh8Mjg5LjI0Nnww)' />\n<rect x='359.89' y='38.33' width='17.28' height='17.28' style='stroke-width: 1.07; stroke: #FFFFFF; fill: #F2F2F2;' clip-path='url(#cpMHw0Njh8Mjg5LjI0Nnww)' />\n<line x1='361.62' y1='46.97' x2='375.45' y2='46.97' style='stroke-width: 1.07; stroke: #E76BF3; stroke-linecap: butt;' clip-path='url(#cpMHw0Njh8Mjg5LjI0Nnww)' />\n<rect x='359.89' y='55.61' width='17.28' height='17.28' style='stroke-width: 1.07; stroke: #FFFFFF; fill: #F2F2F2;' clip-path='url(#cpMHw0Njh8Mjg5LjI0Nnww)' />\n<line x1='361.62' y1='64.25' x2='375.45' y2='64.25' style='stroke-width: 1.07; stroke: #FF62BC; stroke-linecap: butt;' clip-path='url(#cpMHw0Njh8Mjg5LjI0Nnww)' />\n<g clip-path='url(#cpMHw0Njh8Mjg5LjI0Nnww)'><text x='140.02' y='49.37' style='font-size: 7.20px; font-family: Liberation Sans;' textLength='59.52px' lengthAdjust='spacingAndGlyphs'>Brunei Darussalam</text></g>\n<g clip-path='url(#cpMHw0Njh8Mjg5LjI0Nnww)'><text x='140.02' y='66.65' style='font-size: 7.20px; font-family: Liberation Sans;' textLength='31.91px' lengthAdjust='spacingAndGlyphs'>Cambodia</text></g>\n<g clip-path='url(#cpMHw0Njh8Mjg5LjI0Nnww)'><text x='221.15' y='49.37' style='font-size: 7.20px; font-family: Liberation Sans;' textLength='30.36px' lengthAdjust='spacingAndGlyphs'>Indonesia</text></g>\n<g clip-path='url(#cpMHw0Njh8Mjg5LjI0Nnww)'><text x='221.15' y='66.65' style='font-size: 7.20px; font-family: Liberation Sans;' textLength='28.40px' lengthAdjust='spacingAndGlyphs'>Lao PDR</text></g>\n<g clip-path='url(#cpMHw0Njh8Mjg5LjI0Nnww)'><text x='273.11' y='49.37' style='font-size: 7.20px; font-family: Liberation Sans;' textLength='27.62px' lengthAdjust='spacingAndGlyphs'>Malaysia</text></g>\n<g clip-path='url(#cpMHw0Njh8Mjg5LjI0Nnww)'><text x='273.11' y='66.65' style='font-size: 7.20px; font-family: Liberation Sans;' textLength='29.17px' lengthAdjust='spacingAndGlyphs'>Myanmar</text></g>\n<g clip-path='url(#cpMHw0Njh8Mjg5LjI0Nnww)'><text x='323.88' y='49.37' style='font-size: 7.20px; font-family: Liberation Sans;' textLength='33.85px' lengthAdjust='spacingAndGlyphs'>Philippines</text></g>\n<g clip-path='url(#cpMHw0Njh8Mjg5LjI0Nnww)'><text x='323.88' y='66.65' style='font-size: 7.20px; font-family: Liberation Sans;' textLength='31.91px' lengthAdjust='spacingAndGlyphs'>Singapore</text></g>\n<g clip-path='url(#cpMHw0Njh8Mjg5LjI0Nnww)'><text x='379.33' y='49.37' style='font-size: 7.20px; font-family: Liberation Sans;' textLength='26.85px' lengthAdjust='spacingAndGlyphs'>Thailand</text></g>\n<g clip-path='url(#cpMHw0Njh8Mjg5LjI0Nnww)'><text x='379.33' y='66.65' style='font-size: 7.20px; font-family: Liberation Sans;' textLength='28.79px' lengthAdjust='spacingAndGlyphs'>Viet Nam</text></g>\n<g clip-path='url(#cpMHw0Njh8Mjg5LjI0Nnww)'><text x='32.35' y='27.60' style='font-size: 8.10px; font-family: Liberation Sans;' textLength='27.12px' lengthAdjust='spacingAndGlyphs'>ASEAN</text></g>\n<g clip-path='url(#cpMHw0Njh8Mjg5LjI0Nnww)'><text x='32.35' y='13.04' style='font-size: 10.80px; font-family: Liberation Sans;' textLength='257.46px' lengthAdjust='spacingAndGlyphs'>Life expectancy vs. health expenditure, 1995 to 2014</text></g>\n</svg>\n","value":"#gg4clj.core.GGView{:plot-command [[:<- :g [:data.frame {:year [:c 1995 1995 1995 1995 1995 1995 1995 1995 1995 1995 1996 1996 1996 1996 1996 1996 1996 1996 1996 1996 1997 1997 1997 1997 1997 1997 1997 1997 1997 1997 1998 1998 1998 1998 1998 1998 1998 1998 1998 1998 1999 1999 1999 1999 1999 1999 1999 1999 1999 1999 2000 2000 2000 2000 2000 2000 2000 2000 2000 2000 2001 2001 2001 2001 2001 2001 2001 2001 2001 2001 2002 2002 2002 2002 2002 2002 2002 2002 2002 2002 2003 2003 2003 2003 2003 2003 2003 2003 2003 2003 2004 2004 2004 2004 2004 2004 2004 2004 2004 2004 2005 2005 2005 2005 2005 2005 2005 2005 2005 2005 2006 2006 2006 2006 2006 2006 2006 2006 2006 2006 2007 2007 2007 2007 2007 2007 2007 2007 2007 2007 2008 2008 2008 2008 2008 2008 2008 2008 2008 2008 2009 2009 2009 2009 2009 2009 2009 2009 2009 2009 2010 2010 2010 2010 2010 2010 2010 2010 2010 2010 2011 2011 2011 2011 2011 2011 2011 2011 2011 2011 2012 2012 2012 2012 2012 2012 2012 2012 2012 2012 2013 2013 2013 2013 2013 2013 2013 2013 2013 2013 2014 2014 2014 2014 2014 2014 2014 2014 2014 2014], :he [:c 20 2 100 476 17 14 127 37 741 14 23 2 117 630 24 15 139 41 772 16 20 2 100 627 20 17 125 41 766 17 10 2 68 569 16 14 94 31 712 17 15 2 69 542 16 10 105 35 636 18 15 3 66 554 18 10 122 33 662 20 17 2 60 508 18 13 132 29 526 23 20 3 73 517 20 13 141 28 632 22 27 4 79 580 24 18 175 33 827 25 27 5 87 665 26 19 184 35 828 30 35 5 95 691 28 20 183 47 1061 37 46 5 109 699 24 25 226 55 1171 43 58 7 133 758 24 29 261 66 1315 55 61 10 161 843 41 24 295 78 1551 63 64 13 163 790 47 34 291 81 1656 73 86 15 182 860 47 30 351 94 1842 83 99 19 213 938 50 28 394 102 2086 94 107 24 227 962 59 31 422 116 2310 120 106 18 230 1023 60 33 427 127 2532 134 99 20 228 958 61 33 456 135 2752 142], :le [:c 65.0018780487805 60.4114390243902 70.2006097560976 74.2229512195122 55.1216585365854 56.1172926829268 71.8631219512195 66.0705609756098 76.2951219512195 71.8522195121951 65.3058292682927 60.7459024390244 70.2278780487805 74.4443170731708 55.5860243902439 56.6568292682927 72.0726097560976 66.197756097561 76.5951219512195 72.1315609756098 65.5821707317073 61.0799024390244 70.2823902439024 74.6621707317073 56.1438536585366 57.2034390243903 72.2791219512195 66.3214634146342 76.8975609756098 72.403512195122 65.8293902439024 61.4144390243902 70.3626341463415 74.8755365853659 56.7916097560976 57.7575609756098 72.4816585365854 66.4421707317073 77.3 72.664512195122 66.0494634146341 61.7489756097561 70.4755609756098 75.0854146341464 57.5288048780488 58.3161707317073 72.6792195121951 66.5619024390244 77.5512195121951 72.9135365853659 66.2468780487805 62.078 70.6340731707317 75.2888048780488 58.3508780487805 58.879243902439 72.8677804878049 66.6821219512195 77.9512195121951 73.1485853658537 66.4301219512195 62.3989512195122 70.8490487804878 75.483243902439 59.2472682926829 59.4482926829268 73.0433170731707 66.8023902439025 78.2512195121951 73.3695853658537 66.608243902439 62.7073170731707 71.118243902439 75.6676829268293 60.187 60.0218292682927 73.2038292682927 66.9216585365854 78.5512195121951 73.5765609756098 66.7888048780488 63.0020731707317 71.4339268292683 75.8461707317073 61.1375853658537 60.5963902439024 73.3492926829268 67.0389268292683 79.0390243902439 73.7725365853659 66.9748780487805 63.2832195121951 71.7864634146342 76.0241219512195 62.0736097560976 61.1694390243903 73.4812195121951 67.1541951219512 79.490243902439 73.9590243902439 67.1685609756098 63.5552682926829 72.1572682926829 76.2134634146341 62.9677073170732 61.734512195122 73.6006097560976 67.2664878048781 79.990243902439 74.1381219512195 67.3674878048781 63.824243902439 72.5257317073171 76.4281219512195 63.7955853658537 62.2886341463415 73.7114390243903 67.374756097561 80.1414634146341 74.3123658536585 67.5677317073171 64.0936829268293 72.8744390243903 76.6755609756098 64.5523414634146 62.8272682926829 73.8182682926829 67.4790243902439 80.4414634146342 74.4838536585366 67.7647804878049 64.3676097560976 73.1884390243902 76.956756097561 65.2349756097561 63.3489024390244 73.9260731707317 67.5807804878049 80.790243902439 74.6530975609756 67.9576341463415 64.6435609756098 73.4617317073171 77.2682926829268 65.8444634146342 63.8510487804878 74.0384146341463 67.6810487804878 81.2414634146342 74.8226097560976 68.1471951219512 64.9174878048781 73.6943658536586 77.5982682926829 66.3856585365854 64.3336341463415 74.1577804878049 67.7833170731708 81.5414634146342 74.9903658536585 68.3343902439024 65.1809024390244 73.8923902439024 77.9323170731708 66.8728780487805 64.7981219512195 74.286756097561 67.8906585365854 81.7439024390244 75.1568048780488 68.5195609756098 65.4277804878049 74.0719024390244 78.2525853658537 67.3288780487805 65.248512195122 74.4233170731707 68.0070731707317 81.9951219512195 75.3193902439024 68.7046097560976 65.6540975609756 74.2469268292683 78.5466585365854 67.7720487804878 65.687243902439 74.567512195122 68.1315609756097 82.2463414634147 75.477 68.8884878048781 65.8578536585366 74.4220243902439 78.8095853658537 68.2122926829268 66.1173658536586 74.7182926829268 68.2656341463415 82.4951219512195 75.6291219512195], :country [:c \"Indonesia\" \"Myanmar\" \"Thailand\" \"Brunei Darussalam\" \"Cambodia\" \"Lao PDR\" \"Malaysia\" \"Philippines\" \"Singapore\" \"Viet Nam\" \"Indonesia\" \"Myanmar\" \"Thailand\" \"Brunei Darussalam\" \"Cambodia\" \"Lao PDR\" \"Malaysia\" \"Philippines\" \"Singapore\" \"Viet Nam\" \"Indonesia\" \"Myanmar\" \"Thailand\" \"Brunei Darussalam\" \"Cambodia\" \"Lao PDR\" \"Malaysia\" \"Philippines\" \"Singapore\" \"Viet Nam\" \"Indonesia\" \"Myanmar\" \"Thailand\" \"Brunei Darussalam\" \"Cambodia\" \"Lao PDR\" \"Malaysia\" \"Philippines\" \"Singapore\" \"Viet Nam\" \"Indonesia\" \"Myanmar\" \"Thailand\" \"Brunei Darussalam\" \"Cambodia\" \"Lao PDR\" \"Malaysia\" \"Philippines\" \"Singapore\" \"Viet Nam\" \"Indonesia\" \"Myanmar\" \"Thailand\" \"Brunei Darussalam\" \"Cambodia\" \"Lao PDR\" \"Malaysia\" \"Philippines\" \"Singapore\" \"Viet Nam\" \"Indonesia\" \"Myanmar\" \"Thailand\" \"Brunei Darussalam\" \"Cambodia\" \"Lao PDR\" \"Malaysia\" \"Philippines\" \"Singapore\" \"Viet Nam\" \"Indonesia\" \"Myanmar\" \"Thailand\" \"Brunei Darussalam\" \"Cambodia\" \"Lao PDR\" \"Malaysia\" \"Philippines\" \"Singapore\" \"Viet Nam\" \"Indonesia\" \"Myanmar\" \"Thailand\" \"Brunei Darussalam\" \"Cambodia\" \"Lao PDR\" \"Malaysia\" \"Philippines\" \"Singapore\" \"Viet Nam\" \"Indonesia\" \"Myanmar\" \"Thailand\" \"Brunei Darussalam\" \"Cambodia\" \"Lao PDR\" \"Malaysia\" \"Philippines\" \"Singapore\" \"Viet Nam\" \"Indonesia\" \"Myanmar\" \"Thailand\" \"Brunei Darussalam\" \"Cambodia\" \"Lao PDR\" \"Malaysia\" \"Philippines\" \"Singapore\" \"Viet Nam\" \"Indonesia\" \"Myanmar\" \"Thailand\" \"Brunei Darussalam\" \"Cambodia\" \"Lao PDR\" \"Malaysia\" \"Philippines\" \"Singapore\" \"Viet Nam\" \"Indonesia\" \"Myanmar\" \"Thailand\" \"Brunei Darussalam\" \"Cambodia\" \"Lao PDR\" \"Malaysia\" \"Philippines\" \"Singapore\" \"Viet Nam\" \"Indonesia\" \"Myanmar\" \"Thailand\" \"Brunei Darussalam\" \"Cambodia\" \"Lao PDR\" \"Malaysia\" \"Philippines\" \"Singapore\" \"Viet Nam\" \"Indonesia\" \"Myanmar\" \"Thailand\" \"Brunei Darussalam\" \"Cambodia\" \"Lao PDR\" \"Malaysia\" \"Philippines\" \"Singapore\" \"Viet Nam\" \"Indonesia\" \"Myanmar\" \"Thailand\" \"Brunei Darussalam\" \"Cambodia\" \"Lao PDR\" \"Malaysia\" \"Philippines\" \"Singapore\" \"Viet Nam\" \"Indonesia\" \"Myanmar\" \"Thailand\" \"Brunei Darussalam\" \"Cambodia\" \"Lao PDR\" \"Malaysia\" \"Philippines\" \"Singapore\" \"Viet Nam\" \"Indonesia\" \"Myanmar\" \"Thailand\" \"Brunei Darussalam\" \"Cambodia\" \"Lao PDR\" \"Malaysia\" \"Philippines\" \"Singapore\" \"Viet Nam\" \"Indonesia\" \"Myanmar\" \"Thailand\" \"Brunei Darussalam\" \"Cambodia\" \"Lao PDR\" \"Malaysia\" \"Philippines\" \"Singapore\" \"Viet Nam\" \"Indonesia\" \"Myanmar\" \"Thailand\" \"Brunei Darussalam\" \"Cambodia\" \"Lao PDR\" \"Malaysia\" \"Philippines\" \"Singapore\" \"Viet Nam\"]}]] [:+ [:+ [:+ [:ggplot :g [:aes {:x :he, :y :le, :color :country}]] [:geom_line {:size 0.5}]] [:theme {:axis.ticks [:element_blank], :legend.position \"top\", :text [:element_text {:size 9}]}]] [:labs {:title \"Life expectancy vs. health expenditure, 1995 to 2014\", :subtitle \"ASEAN\", :x \"Health expenditure (million US$)\", :y \"Life expectancy\"}]]], :options {}}"}
;; <=
